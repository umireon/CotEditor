<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html lang="en" xml:lang="en">

<head>
	<meta charset="UTF-8"/>
	<meta name="keywords" content="Script Menu, script, script property, script bundle"/>
	<link rel="start" href="../CotEditorHelp.html"/>
	<link rel="index" href="../xpgs/xall.html"/>
	<link rel="stylesheet" href="../../Shared/sty/standard.css"/>
	<link rel="stylesheet" href="../../Shared/sty/pygmentize.css"/>
	<title>Script properties for CotEditor scripts</title>
</head>

<body>
<nav><ul>
	<li><a href="../CotEditorHelp.html">CotEditor Help</a></li>
</ul></nav>


<a name="about_script_property"></a>
<h1>Script properties for CotEditor scripts</h1>

<p>CotEditor scripts can have extra information called properties to use advanced scripting features.
This page explains what feature is provided via script properties and how to set script properties.</p>

<p>CotEditor supports the following features via script properties:</p>

<ul>
	<li><a href="about_script_hook.html">Scripting hook (for AppleScript and JXA)</a></li>
	<li><a href="#">Execution model (for JXA)</a></li>
</ul>

<p>Currently, scripts written in AppleScript and JXA can have properties only when they are stored in the form of script bundle.</p>

<h2>Setting properties in script bundle</h2>

<p>A script bundle is the directory structure which contains an executable script.
Any scripts can be exported in this form with Script Editor.app, which is one of standard applications distributed with macOS.</p>

<p>The directory structure of a script bundle is as follows:</p>

<pre>
MyCotEditorScript.scptd
└── Contents
    ├── Info.plist
    └── Resources
        └── Scripts
            └── main.scpt
</pre>

<p>In this bundle, <code>main.scpt</code> is the entry point of the script and <code>Info.plist</code> stores various information about the script bundle itself.
Any script properties for script bundles must be added in <code>Info.plist</code>.
For example, a property <code>CotEditorExecutionModel</code> with a string value <code>persistent</code> should be appended to <code>Info.plist</code> as follows:</p>
<!-- generated by pygmentize -l xml -f html -->
<div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;dict&gt;</span>
		<span class="nt">&lt;key&gt;</span>CFBundleIdentifier<span class="nt">&lt;/key&gt;</span>
		<span class="nt">&lt;string&gt;</span>com.coteditor.my-coteditor-script<span class="nt">&lt;/string&gt;</span>
		<span class="nt">&lt;key&gt;</span>CFBundleName<span class="nt">&lt;/key&gt;</span>
		<span class="nt">&lt;string&gt;</span>My CotEditor Script<span class="nt">&lt;/string&gt;</span>
		<span class="nt">&lt;key&gt;</span>CFBundleShortVersionString<span class="nt">&lt;/key&gt;</span>
		<span class="nt">&lt;string&gt;</span>1.0<span class="nt">&lt;/string&gt;</span>
		<span class="c">&lt;!-- SCRIPT PROPERTIES FOR COTEDITOR SCRIPT --&gt;</span>
		<span class="nt">&lt;key&gt;</span>CotEditorExecutionModel<span class="nt">&lt;/key&gt;</span>
		<span class="nt">&lt;string&gt;</span>persistent<span class="nt">&lt;/string&gt;</span>
		<span class="c">&lt;!-- END SCRIPT PROPERTIES FOR COTEDITOR SCRIPT --&gt;</span>
	<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</pre></div>

<section id="cf">
<h2>See also</h2>
<ul>
	<li><a href="../pgs/about_scripting.html">CotEditor Scripting</a></li>
	<li><a href="../pgs/howto_customize_scriptmenu.html">Customizing the Script menu</a></li>
</ul>
</section>

</body>
</html>
